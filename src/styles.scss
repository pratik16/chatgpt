@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Light theme per provided palette */
    /* Background (Main): #F8F9FB */
    --background: 220 22% 98%;
    /* Font Color (Primary): #1E1E1E */
    --foreground: 0 0% 12%;

    --card: 0 0% 100%;
    --card-foreground: 0 0% 12%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 12%;

    /* Primary Color: #6C63FF (Soft Indigo) */
    --primary: 248 100% 69%;
    /* Primary Hover: #5A54E0 */
    --primary-hover: 246 70% 60%;
    --primary-foreground: 0 0% 100%;

    /* Secondary / Accent: #00BFA6 (Mint Green) */
    --secondary: 171 100% 37%;
    --secondary-foreground: 0 0% 100%;

    /* Muted surfaces and text */
    --muted: 220 22% 95%;
    /* Font Color (Secondary): #6B6B6B */
    --muted-foreground: 0 0% 42%;

    --accent: 232 100% 96%;
    --accent-foreground: 0 0% 12%;

    --destructive: 0 70% 55%;
    --destructive-foreground: 0 0% 100%;

    /* Inputs */
    --border: 220 16% 86%; /* #DADCE0 */
    --input: 0 0% 100%;
    --ring: 248 100% 69%;
    /* Input focus glow: rgba(108,99,255,0.4) */
    --focus-glow: 0 0 0 4px rgba(108,99,255,0.40);

    /* Rounded corners (12â€“16px) */
    --radius: 0.875rem; /* 14px */

    /* Sidebar */
    --sidebar-background: 0 0% 100%; /* or slight tint via #F2F3F7 if needed */
    --sidebar-foreground: 0 0% 12%;
    --sidebar-primary: 248 100% 69%;
    --sidebar-primary-foreground: 0 0% 100%;
    /* Mint accent highlight */
    --sidebar-accent: 171 60% 92%;
    --sidebar-accent-foreground: 171 100% 22%;
    --sidebar-border: 220 14% 85%;
    --sidebar-ring: 248 100% 69%;

    --chat-user-bg: 248 100% 69%;
    --chat-ai-bg: 220 22% 98%;
    --chat-input-bg: 0 0% 100%;
    
    /* Subtle shadows */
    --shadow-sm: 0 2px 8px hsl(0 0% 0% / 0.05);
    --shadow-md: 0 6px 16px hsl(0 0% 0% / 0.06);
    --shadow-lg: 0 12px 24px hsl(0 0% 0% / 0.08);
    --shadow-xl: 0 20px 40px hsl(0 0% 0% / 0.10);
    
    /* Transitions */
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-bounce: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  .dark {
    /* Dark Mode: #1E1E2F background + #EDEDF5 text */
    --background: 240 23% 15%; /* ~#1E1E2F */
    --foreground: 240 25% 92%; /* ~#EDEDF5 */

    --card: 240 21% 18%;
    --card-foreground: 240 25% 92%;

    --popover: 240 21% 18%;
    --popover-foreground: 240 25% 92%;

    --primary: 248 100% 69%;
    --primary-foreground: 0 0% 100%;

    --secondary: 171 100% 37%;
    --secondary-foreground: 0 0% 100%;

    --muted: 240 18% 22%;
    --muted-foreground: 240 10% 70%;

    --accent: 248 100% 69%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 70% 55%;
    --destructive-foreground: 0 0% 100%;

    --border: 240 14% 28%;
    --input: 240 14% 28%;
    --ring: 248 100% 69%;

    --sidebar-background: 240 23% 13%;
    --sidebar-foreground: 240 25% 92%;
    --sidebar-primary: 248 100% 69%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 18% 20%;
    --sidebar-accent-foreground: 240 25% 92%;
    --sidebar-border: 240 14% 28%;
    --sidebar-ring: 248 100% 69%;

    --chat-user-bg: 248 100% 69%;
    --chat-ai-bg: 240 21% 18%;
    --chat-input-bg: 240 18% 22%;
    
    /* Shadows for dark mode */
    --shadow-sm: 0 1px 2px 0 hsl(0 0% 0% / 0.5);
    --shadow-md: 0 4px 6px -1px hsl(0 0% 0% / 0.5);
    --shadow-lg: 0 10px 15px -3px hsl(0 0% 0% / 0.5);
    --shadow-xl: 0 20px 25px -5px hsl(0 0% 0% / 0.5);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: Inter, "Inter var", Poppins, "Nunito Sans", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    font-weight: 400;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  input, textarea, select {
    border-color: hsl(var(--border));
    box-shadow: none;
  }

  input:focus, textarea:focus, select:focus {
    outline: none;
    border-color: hsl(var(--primary));
    box-shadow: var(--focus-glow);
  }
}

/* Global Button Utilities */
@layer components {
  /* Auth layout components for consistent look across pages */
  .auth-container {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, hsl(var(--background)) 0%, hsl(var(--secondary) / 0.06) 100%);
    padding: 1rem;
  }

  .auth-card {
    width: 100%;
    max-width: 480px;
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    border-radius: calc(var(--radius) + 4px);
    padding: 2rem;
    box-shadow: var(--shadow-xl);
    animation: fade-in 0.4s ease-out;
    transition: var(--transition-smooth);
  }

  .btn {
    @apply inline-flex items-center justify-center font-medium rounded-lg transition-all select-none focus:outline-none;
    box-shadow: var(--shadow-sm);
  }

  .btn:focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }

  .btn-primary {
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
    @apply btn;
  }

  .btn-primary:hover:not(:disabled) {
    background: hsl(var(--primary-hover));
    box-shadow: var(--shadow-md);
  }

  .btn-primary:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  .btn-secondary {
    background: hsl(var(--secondary));
    color: hsl(var(--secondary-foreground));
    @apply btn;
  }

  .btn-secondary:hover:not(:disabled) {
    filter: brightness(1.05);
    box-shadow: var(--shadow-md);
  }

  .btn-ghost {
    background: transparent;
    color: hsl(var(--foreground));
    @apply btn;
  }

  .btn-ghost:hover {
    background: hsl(var(--accent));
  }
}

/* Login Page Styles */
.login-container {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, hsl(var(--background)) 0%, hsl(var(--secondary)) 100%);
  padding: 1rem;
}

.login-card {
  width: 100%;
  max-width: 420px;
  background: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  border-radius: calc(var(--radius) + 4px);
  padding: 2.5rem;
  box-shadow: var(--shadow-xl);
  animation: fade-in 0.5s ease-out;
  transition: var(--transition-smooth);
}

.login-card:hover {
  box-shadow: 0 25px 50px -12px hsl(0 0% 0% / 0.15);
}

.login-header {
  text-align: center;
  margin-bottom: 2rem;
}

.login-title {
  font-size: 1.875rem;
  font-weight: 700;
  color: hsl(var(--foreground));
  margin-bottom: 0.5rem;
  letter-spacing: -0.025em;
}

.login-subtitle {
  color: hsl(var(--muted-foreground));
  font-size: 0.875rem;
  line-height: 1.5;
}

.login-form {
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
}

.login-form-group {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.login-link {
  color: hsl(var(--primary));
  text-decoration: none;
  font-size: 0.875rem;
  transition: var(--transition-smooth);
}

.login-link:hover {
  opacity: 0.8;
  text-decoration: underline;
}

.login-footer {
  margin-top: 1.5rem;
  text-align: center;
  font-size: 0.875rem;
  color: hsl(var(--muted-foreground));
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
